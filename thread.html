<!DOCTYPE HTML>
<!--
	Editorial by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
	<title>进程守护</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="assets/css/main.css" />
</head>

<body class="is-preload">

	<!-- Wrapper -->
	<div id="wrapper">

		<!-- Main -->
		<div id="main">
			<div class="inner">

				<!-- Header -->
				<header id="header">
					<a href="index.html" class="logo">autMan</a>
					<ul class="icons">
						<li><a href="https://github.com/hdbjlizhe/fanli" class="icon brands fa-github"><span
									class="label">Github</span></a></li>
						<li><a href="tencent://message/?uin=282617666&Site=&Menu=yes" target="_blank" title="点击添加群主"
								class="icon brands fa-qq"><span class="label">QQ</span></a></li>
						<li><a href="#" class="icon brands fa-telegram"><span class="label">Telegram</span></a></li>
					</ul>
				</header>

				<!-- Content -->
				<section>
					<header class="main">
						<h1>进程守护</h1>
					</header>

					<!-- Content -->
					<h2>守护autMan进程</h2>
					<p>守护autMan进程能有效解决掉线问题，windows版本不用守护，此指令只适用于centos、debian、ubuntu等部分linux系统，不适用于群晖、openwrt</p>
					<p>指令：守护奥特曼</p>
					<P>原理如下：</P>
					<p>1.vim /usr/lib/systemd/system/autMan.service #新建机器人系统服务文件
						按键盘字母 i 进入编辑模式，复制下面esc 退出编辑模式，再输入命令 :wq 保存并退出。</p>
					<pre><code>[Unit]
Description=bot
After=network.target mysql.service mariadb.service mysqld.service
[Service]
Type=forking
ExecStart=/root/autMan/autMan -d
PIDFile=/root/autMan/autMan.pid
Restart=always
User=root
Group=root
		
[Install]
WantedBy=multi-user.target
Alias=autMan.service</code></pre>
					<h3>守护控制</h3>
					<p>分别输入下面的命令激活</p>
					<pre><code>systemctl daemon-reload #重新加载所有被修改过的服务配置，否则配置不会生效
systemctl enable autMan.service #设置为开机自启动
systemctl start autMan.service #启动autMan服务
# 其他常用的管理命令
systemctl restart autMan.service #重启autMan服务
systemctl stop autMan.service #停止autMan服务
systemctl status autMan.service #查看运行状态</code></pre>
				</section>

			</div>
		</div>

		<!-- Sidebar -->
		<div id="sidebar">
			<div class="inner">
				<include src="sidebar.html"></include>
			</div>
		</div>

	</div>

	<!-- Scripts -->
	<script src="assets/js/include.js"></script>
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/browser.min.js"></script>
	<script src="assets/js/breakpoints.min.js"></script>
	<script src="assets/js/util.js"></script>
	<script src="assets/js/main.js"></script>

</body>

</html>